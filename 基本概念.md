## æ–¹æ³•

Kotlinä¸­ä½¿ç”¨å…³é”®å­— `fun` æ¥å®šä¹‰æ–¹æ³•   

åœ¨Javaä¸­ï¼Œæ²¡æœ‰è¿”å›å€¼å°±å†™voidï¼Œæˆ–è€…return;(ç©º) ï¼Œ  
è€ŒKotlinä¸­æ²¡æœ‰voidçš„å“Ÿï¼Œå¦‚æœæ²¡æœ‰è¿”å›å€¼ï¼Œå‡½æ•°é»˜è®¤è¿”å›æ˜¯Unitç±»å‹ï¼Œä¹Ÿå¯ä»¥è¿”å› return;  
å¹¶ä¸”,å¦‚æœè¿”å›å€¼æ˜¯Unitç±»å‹çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥çœç•¥ï¼ˆé»˜è®¤çš„ï¼Œæ²¡æœ‰whyï¼‰  

```
  fun <å‡½æ•°åç§°>(å‚æ•°åç§°: å‚æ•°ç±»å‹,...):è¿”å›ç±»å‹{  
   ...the function body  
  }  
```

```java
fun sum(a:Int,b:Int):Int{
  println("$a + ${b} = ${a + b}")
  return a * 2
}
```

- Kotlin ä¸­è¡¨ç¤ºè¯­å¥ç»“æŸä¸ç”¨å¼ºåˆ¶å†™åˆ†å·`;`äº†ğŸ˜Š  

### å‡½æ•°é»˜è®¤å€¼

```
fun foo(a: Int = 0, b: String = "") {...}
```

## å­—ç¬¦ä¸²æ¨¡æ¿

å¦‚ä¸Šé¢`println("$a + ${b} = ${a + b}")` ä¸­çš„å­—ç¬¦ä¸²å°±æ˜¯äº†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨`$param` æˆ– `${param}` æ¥ä½¿ç”¨å‚æ•°ï¼Œçœ‹ç€æ ·å­ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæ¨¡æ¿åŒ¹é…ï¼Œè€Œ`${}`å°±æ˜¯è¡¨è¾¾å¼æ›¿æ¢

## å˜é‡

- `var` : å˜é‡
- `val` : åªè¯»å˜é‡ï¼ˆä¸èƒ½æ”¹å°±æ˜¯å¸¸é‡äº†ï¼Œå¥½åƒæœ‰constæ¥ä¸“é—¨æŒ‡å®šå¸¸é‡ï¼‰

```
fun main(args: Array<String>) {
  val age: Int = 1      // å£°æ˜å¹¶åˆå§‹åŒ–
  val name = "xing.he"  // è‡ªåŠ¨æ¨åˆ°ç±»å‹ String

  val dogNumber: Int    // **å½“æ²¡æœ‰åˆå§‹åŒ–å€¼æ—¶å¿…é¡»å£°æ˜ç±»å‹**
  dogNumber = 2         // èµ‹å€¼

  var a = 2             // varå£°æ˜å˜é‡ï¼Œvalå£°æ˜çš„éƒ½æ˜¯å¸¸é‡å“Ÿ
  a += 4

  println("my name is $name $age years old and i have $dogNumber dogs")
}
```

## if

Kotlin ä¸­æ²¡æœ‰ä¸‰å…ƒè¿ç®—ç¬¦` ? : ` äº†ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ `if` æˆ–è€…æ›´ä¸ºç®€çŸ­çš„`?:`ï¼Œè¿™æ˜¯å› ä¸º`if` å½“åšè¡¨è¾¾å¼ä½¿ç”¨çš„è¯ï¼Œå®ƒçš„æœ€åä¸€å¥ä»£ç çš„`å€¼`å¯ä»¥ä½œä¸ºè¿”å›å€¼  

```
fun max(a: Int, b: Int) = if (a > b) {
    println(a)
    a
} else {
    println(b)
    b
}

// ç®€å†™çš„è¯

fun max(a: Int, b: Int) = if(a > b) a else b
```

- `?:` è¡¨ç¤ºå¦‚æœå‰é¢è¡¨è¾¾å¼ä¸ä¸ºnullï¼Œå°±å¤åˆ¶å½“å‰å€¼ï¼Œå¦åˆ™å°±æ˜¯`:`åé¢çš„å€¼

```
fun saySomething(something: Any?) {
    println("Did you just say ${something ?: "nothing"} ")
}

saySomething("something")
saySomething(null)
```

## ç©ºå€¼

Kotlinä¸­å…è®¸ä¸€ä¸ªå€¼æˆ–å˜é‡ä¸ºç©º`Unit`çš„è¯æ˜¯é€šè¿‡é—®å·`?`å£°æ˜çš„,å¦‚ï¼š  

```
fun parseInt(str : String): Int?{
    if(str == null) return null;
    return str.toInt()
}
```

## ç±»å‹æ£€æŸ¥

`is` å…³é”®å­—å¯ä»¥è¿›è¡Œç±»å‹æ£€æŸ¥

```
fun checkString(obj: Any){
    if(obj is String) println("This is a String")
    else println("you are not String")
}
```

## å¾ªç¯

### for

```
fun main(args: Array<String>) {
  val items = listOf("a", "b", "c")
  for (item in items) {
    println(item)
  }
}

// or

fun main(args: Array<String>) {
  val items = listOf("a", "b", "c")
  for (index in items.indices) {
    println("item at $index is ${items[index]}")
  }
}
```

### while

```
fun main(args: Array<String>) {
  val items = listOf("a", "b", "c")
  var index = 0
  while (index < items.size) {
    println("item at $index is ${items[index]}")
    index++
  }
}
```

## when

when å…¶å®å°±æ˜¯ä¸€ä¸ªåŠ å¼ºç‰ˆçš„`switch`,å¹¶whenå¯ä»¥è¿”å›å€¼

```
fun jude(obj: Any): String{
    return when(obj){
        "1"     -> "String 1"
        1       -> "Int 1"
        is Long -> "Long"
        2,3     -> "Int 2 or 3"
        else    -> "something else"
    }
}
```

## ranges åŒºé—´å€¼

- ä½¿ç”¨`in`å…³é”®å­—æ£€æŸ¥æ˜¯å¦åœ¨æŸä¸ªåŒºé—´

```
fun main(args: Array<String>) {
  val x = 10
  val y = 9
  if (x in 1..y+1) {
      println("fits in range")
  }

  if (x !in 1..y) {
      println("not in range")
  }
}
```

```
for (i in 1..100) { ... }       // é—­åŒºé—´: åŒ…æ‹¬100
for (i in 1 until 100) { ... }  // åŠå¼€åŒºé—´: ä¸åŒ…æ‹¬100
for (x in 2..10 step 2) { ... } // x += 2
for (x in 10 downTo 1) { ... }  // å€’åºè¾“å‡º
if (x in 1..10) { ... }         // æ˜¯å¦åŒ…å«
```

- åœ¨åŒºé—´éå†ï¼š

```
for (x in 1..5) {
  print(x)
}
```

- æ£€æŸ¥æ˜¯å¦åŒ…å«æŸä¸ªå¯¹è±¡

```
fun main(args: Array<String>) {
  val items = setOf("a", "b", "c")
  when {
    "a" in items -> println("a")  // a å­˜åœ¨äº items å°±è¿”å›äº†
    "b" in items -> println("b")
  }
}
```

## å»¶è¿ŸåŠ è½½

é€šè¿‡`by` å…³é”®å­— ä»£ç†åˆ° lazyï¼Œè¿™æ ·på±æ€§æˆ–å¯¹è±¡ä¼šåœ¨è°ƒç”¨çš„æ—¶å€™æ‰ä¼šåˆå§‹åŒ–

```
val p: String by lazy {
    // ç”Ÿæˆstringçš„å€¼
}
```

## try-catch

å¥‡è‘©å°±è¿`try-catch` ä¹Ÿå˜å¾—ä¸ä¸€æ ·äº†,è¿™ç©æ„å±…ç„¶è¿˜èƒ½ä½œä¸º`è¿”å›å€¼`ï¼Œè·Ÿ`if` 

```
fun tryCatch() {
    val result = try {
        getResult()
    }catch (e: Exception) {
        throw IllegaStateException(e)
    }
    //å¤„ç† result
}
```